{% extends "base.html" %}

{% block title %}Confirm Book Return{% endblock %}

{% block content %}
<div class="container py-5">
  <h1 class="display-5 fw-bold mb-4">Confirm Return of "{{ book.title }}"</h1>

  <div class="card shadow mb-5">
    <div class="card-body">
      <h5>Student</h5>
      <p class="fs-5">{{ student.name }} ({{ student.student_id|default:"â€”" }})</p>

      <h5>Book Details</h5>
      <p class="fs-5">{{ book.title }} by {{ book.author }}</p>

      <h5>Borrow Details</h5>
      <p>Issued: {{ transaction.issued_date }}</p>
      <p>Due Date: {{ transaction.due_date }}</p>

      {% if transaction.status == 'OVERDUE' %}
        <div class="alert alert-danger">
          This book is currently <strong>OVERDUE</strong>.
        </div>
      {% else %}
        <div class="alert alert-info">
          This book is due in <strong>{{ days_left }} day(s)</strong>.
        </div>
      {% endif %}
    </div>
  </div>

  <form method="post" class="text-center">
    {% csrf_token %}
    <button type="submit" class="btn btn-lg btn-success me-3">
      <i class="fas fa-check-circle me-2"></i> Confirm Return
    </button>
    <a href="{% url 'students:returns_list' %}" class="btn btn-lg btn-outline-secondary">
      Cancel
    </a>
  </form>
</div>
{% endblock %}